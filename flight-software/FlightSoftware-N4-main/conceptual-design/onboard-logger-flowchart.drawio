<mxfile host="Electron" modified="2024-06-12T17:39:07.991Z" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/23.1.5 Chrome/120.0.6099.109 Electron/28.1.0 Safari/537.36" etag="SFJ8Sh7HjAL-GQxMVuLi" version="23.1.5" type="device">
  <diagram name="Page-1" id="OIpdF0hirbAPJOnk9fyI">
    <mxGraphModel dx="1098" dy="1827" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1654" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="ttgOxfEWlI2KLzoGbpM6-7" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="550" y="210" as="sourcePoint" />
            <mxPoint x="550" y="250" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ttgOxfEWlI2KLzoGbpM6-3" value="Flight computer data logger flowchart" style="text;strokeColor=none;fillColor=none;html=1;fontSize=24;fontStyle=1;verticalAlign=middle;align=center;" vertex="1" parent="1">
          <mxGeometry x="520" y="-60" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="ttgOxfEWlI2KLzoGbpM6-74" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="ttgOxfEWlI2KLzoGbpM6-5" target="ttgOxfEWlI2KLzoGbpM6-72">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ttgOxfEWlI2KLzoGbpM6-5" value="log OK to system logger" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="490" y="530" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ttgOxfEWlI2KLzoGbpM6-78" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="ttgOxfEWlI2KLzoGbpM6-12">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="550" y="860" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ttgOxfEWlI2KLzoGbpM6-12" value="create file with flight.bin" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="490" y="750" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ttgOxfEWlI2KLzoGbpM6-21" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="550" y="920" as="sourcePoint" />
            <mxPoint x="550" y="960" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ttgOxfEWlI2KLzoGbpM6-20" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="550" y="1020" as="sourcePoint" />
            <mxPoint x="550" y="1070" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ttgOxfEWlI2KLzoGbpM6-29" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="ttgOxfEWlI2KLzoGbpM6-26" target="ttgOxfEWlI2KLzoGbpM6-28">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ttgOxfEWlI2KLzoGbpM6-26" value="start" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" vertex="1" parent="1">
          <mxGeometry x="510" y="20" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="ttgOxfEWlI2KLzoGbpM6-28" value="Init the Flash memory" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="490" y="150" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ttgOxfEWlI2KLzoGbpM6-30" value="flash the formatting_led at 10Hz" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="880" y="380" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ttgOxfEWlI2KLzoGbpM6-31" value="" style="shape=flexArrow;endArrow=classic;startArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" target="ttgOxfEWlI2KLzoGbpM6-30">
          <mxGeometry width="100" height="100" relative="1" as="geometry">
            <mxPoint x="820" y="410" as="sourcePoint" />
            <mxPoint x="1020" y="490" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="ttgOxfEWlI2KLzoGbpM6-36" value="stop" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="1">
          <mxGeometry x="510" y="1070" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="ttgOxfEWlI2KLzoGbpM6-38" value="Logging to memory(WRITE OPERATION)" style="text;strokeColor=none;fillColor=none;html=1;fontSize=24;fontStyle=1;verticalAlign=middle;align=center;" vertex="1" parent="1">
          <mxGeometry x="1470" y="120" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="ttgOxfEWlI2KLzoGbpM6-39" value="start" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" vertex="1" parent="1">
          <mxGeometry x="1480" y="190" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="ttgOxfEWlI2KLzoGbpM6-40" value="check that the passed pointer is not NULL" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="1460" y="320" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ttgOxfEWlI2KLzoGbpM6-41" value="Proposed state machine testing method (V1)&lt;div&gt;&lt;br/&gt;&lt;/div&gt;" style="text;strokeColor=none;fillColor=none;html=1;fontSize=24;fontStyle=1;verticalAlign=middle;align=center;" vertex="1" parent="1">
          <mxGeometry x="2020" y="100" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="ttgOxfEWlI2KLzoGbpM6-51" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="ttgOxfEWlI2KLzoGbpM6-42" target="ttgOxfEWlI2KLzoGbpM6-43">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ttgOxfEWlI2KLzoGbpM6-42" value="open serial" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="1970" y="160" width="150" height="70" as="geometry" />
        </mxCell>
        <mxCell id="ttgOxfEWlI2KLzoGbpM6-52" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="ttgOxfEWlI2KLzoGbpM6-43" target="ttgOxfEWlI2KLzoGbpM6-44">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ttgOxfEWlI2KLzoGbpM6-43" value="Send a special CMD char to ESP via UART" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="1970" y="280" width="150" height="70" as="geometry" />
        </mxCell>
        <mxCell id="ttgOxfEWlI2KLzoGbpM6-53" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="ttgOxfEWlI2KLzoGbpM6-44" target="ttgOxfEWlI2KLzoGbpM6-45">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ttgOxfEWlI2KLzoGbpM6-44" value="ESP receives this command, goes into FILE_RECEIVE_MODE" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="1970" y="400" width="150" height="80" as="geometry" />
        </mxCell>
        <mxCell id="ttgOxfEWlI2KLzoGbpM6-54" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="ttgOxfEWlI2KLzoGbpM6-45" target="ttgOxfEWlI2KLzoGbpM6-46">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ttgOxfEWlI2KLzoGbpM6-45" value="Run .py script that sends flight data csv file to ESP&amp;nbsp; via UART" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="1970" y="520" width="150" height="80" as="geometry" />
        </mxCell>
        <mxCell id="ttgOxfEWlI2KLzoGbpM6-55" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="ttgOxfEWlI2KLzoGbpM6-46" target="ttgOxfEWlI2KLzoGbpM6-47">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ttgOxfEWlI2KLzoGbpM6-46" value="ESP saves this file memory" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="1970" y="650" width="150" height="80" as="geometry" />
        </mxCell>
        <mxCell id="ttgOxfEWlI2KLzoGbpM6-56" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="ttgOxfEWlI2KLzoGbpM6-47" target="ttgOxfEWlI2KLzoGbpM6-48">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ttgOxfEWlI2KLzoGbpM6-47" value="Once file done downloading, put ESP in RUN_MODE" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="1970" y="780" width="150" height="80" as="geometry" />
        </mxCell>
        <mxCell id="ttgOxfEWlI2KLzoGbpM6-57" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="ttgOxfEWlI2KLzoGbpM6-48" target="ttgOxfEWlI2KLzoGbpM6-50">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ttgOxfEWlI2KLzoGbpM6-48" value="ESP fetches file from memory and decodes it into respective data fields e,g velocity etc" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="1970" y="910" width="150" height="80" as="geometry" />
        </mxCell>
        <mxCell id="ttgOxfEWlI2KLzoGbpM6-50" value="Feed these data fields as inputs to the state machine and debug" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="1970" y="1030" width="150" height="80" as="geometry" />
        </mxCell>
        <mxCell id="ttgOxfEWlI2KLzoGbpM6-67" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="ttgOxfEWlI2KLzoGbpM6-58" target="ttgOxfEWlI2KLzoGbpM6-66">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ttgOxfEWlI2KLzoGbpM6-58" value="Format the SPI flash memory" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="700" y="380" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ttgOxfEWlI2KLzoGbpM6-62" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="ttgOxfEWlI2KLzoGbpM6-59" target="ttgOxfEWlI2KLzoGbpM6-58">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ttgOxfEWlI2KLzoGbpM6-76" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="ttgOxfEWlI2KLzoGbpM6-59" target="ttgOxfEWlI2KLzoGbpM6-5">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ttgOxfEWlI2KLzoGbpM6-59" value="file system found?" style="rhombus;whiteSpace=wrap;html=1;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="490" y="350" width="120" height="120" as="geometry" />
        </mxCell>
        <mxCell id="ttgOxfEWlI2KLzoGbpM6-61" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="ttgOxfEWlI2KLzoGbpM6-60" target="ttgOxfEWlI2KLzoGbpM6-59">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ttgOxfEWlI2KLzoGbpM6-60" value="Check for file system on the flash memory" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="490" y="250" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ttgOxfEWlI2KLzoGbpM6-63" value="N" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="630" y="370" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ttgOxfEWlI2KLzoGbpM6-65" value="Y" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="520" y="480" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="ttgOxfEWlI2KLzoGbpM6-69" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="ttgOxfEWlI2KLzoGbpM6-66" target="ttgOxfEWlI2KLzoGbpM6-68">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ttgOxfEWlI2KLzoGbpM6-66" value="Create a dummy.txt file on the memory for next time we check" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="700" y="480" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ttgOxfEWlI2KLzoGbpM6-71" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="ttgOxfEWlI2KLzoGbpM6-68" target="ttgOxfEWlI2KLzoGbpM6-70">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ttgOxfEWlI2KLzoGbpM6-68" value="create a &quot;flight.bin&quot; file for flight data logging" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="700" y="585" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ttgOxfEWlI2KLzoGbpM6-70" value="light the formatting_led solid for visual indication" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="880" y="585" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ttgOxfEWlI2KLzoGbpM6-77" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="ttgOxfEWlI2KLzoGbpM6-72" target="ttgOxfEWlI2KLzoGbpM6-12">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ttgOxfEWlI2KLzoGbpM6-72" value="list all files in the memory root" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="490" y="645" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ttgOxfEWlI2KLzoGbpM6-79" value="return true" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="490" y="960" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="ttgOxfEWlI2KLzoGbpM6-82" value="Flash memory is&amp;nbsp; ready for R/W" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;" vertex="1" parent="1">
          <mxGeometry x="490" y="860" width="120" height="60" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
